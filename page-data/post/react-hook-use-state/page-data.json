{
    "componentChunkName": "component---src-pages-post-mdx-slug-js",
    "path": "/post/react-hook-use-state/",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"description\": \"리액트(React) 훅(Hook), useState는 무엇이고 어떻게 사용하는 것인지. 또 주의할 점은 무엇이 있는지 정리해봤습니다.\",\n  \"title\": \"리액트 훅(React Hook) - useState\",\n  \"tag\": [\"React\"],\n  \"date\": \"2022-01-18\",\n  \"summary\": \"리액트 훅(React Hook) 중 useState를 정리해봤습니다.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"useState\\uB97C \\uC774\\uC6A9\\uD55C \\uC0C1\\uD0DC \\uAD00\\uB9AC\"), mdx(\"p\", null, \"useState\\uB294 \\uD568\\uC218 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC0C1\\uD0DC \\uBCC0\\uC218\\uB97C \\uAC00\\uC9C8 \\uC218 \\uC788\\uAC8C \\uD558\\uB294 \\uD6C5\\uC785\\uB2C8\\uB2E4. \\uC774 \\uD6C5\\uC740 \\uCD08\\uAE30 \\uC0C1\\uD0DC\\uB97C \\uC804\\uB2EC\\uD558\\uBA74 \\uBC30\\uC5F4\\uC744 \\uBC18\\uD658\\uD569\\uB2C8\\uB2E4. \\uC774 \\uBC30\\uC5F4\\uC758 \\uCCAB \\uBC88\\uC9F8 \\uC778\\uB371\\uC2A4(0)\\uC5D0\\uB294 \\uC804\\uB2EC\\uB41C \\uCD08\\uAE30 \\uC0C1\\uD0DC \\uAC12\\uC774, \\uB450 \\uBC88\\uC9F8 \\uC778\\uB371\\uC2A4(1)\\uC5D0\\uB294 \\uC0C1\\uD0DC\\uB97C \\uAC31\\uC2E0\\uD558\\uB294 \\uD568\\uC218\\uAC00 \\uB4E4\\uC5B4\\uC788\\uB294\\uB370, \\uBCF4\\uD1B5 \\uBE44\\uAD6C\\uC870\\uD654 \\uD560\\uB2F9\\uC73C\\uB85C \\uB450 \\uAC1C\\uB97C \\uB098\\uB204\\uC5B4 \\uBC1B\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"const Counter = ({initialCount}) => {\\n    /*\\n    const stateArray = useState(initialCount);\\n    const count = stateArray[0];\\n    const setCount = stateArray[1];\\n    */\\n\\n    const [count, setCount] = useState(initialCount);\\n\\n    ... some code\\n}\\n\")), mdx(\"p\", null, \"Count\\uB97C \\uC5EC\\uB7EC \\uC694\\uC18C\\uB098 \\uD568\\uC218\\uC5D0\\uC11C \\uD65C\\uC6A9\\uD560 \\uC218 \\uC788\\uC73C\\uBA70 Count\\uB97C \\uAC31\\uC2E0\\uD558\\uB294 setCount \\uD568\\uC218\\uB97C \\uC774\\uC6A9\\uD574 \\uADF8 \\uAC12\\uC744 \\uAC31\\uC2E0\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"const Counter = ({initialCount}) => {\\n    const [count, setCount] = useState(initialCount);\\n\\n    return (\\n    <>\\n      Count: {count}\\n      <button onClick={() => setCount(count + 1)}>+</button>\\n    </>\\n  );\\n}\\n\")), mdx(\"p\", null, \"\\uC5EC\\uAE30\\uC11C \\uD50C\\uB7EC\\uC2A4 \\uBC84\\uD2BC\\uC744 \\uD074\\uB9AD\\uD558\\uBA74 \\uC0C1\\uD0DC\\uAC00 \\uBCC0\\uD558\\uACE0 \\uB9AC\\uC561\\uD2B8\\uB294 \\uC0C1\\uD0DC\\uAC00 \\uBCC0\\uACBD\\uB418\\uC790\\uB9C8\\uC790 \\uAD6C\\uC131 \\uC694\\uC18C\\uB97C \\uB2E4\\uC2DC \\uB80C\\uB354\\uB9C1\\uD569\\uB2C8\\uB2E4.\"), mdx(\"h2\", null, \"\\uD568\\uC218\\uC801 \\uAC31\\uC2E0\\uACFC \\uBD80\\uC2E4 \\uC0C1\\uD0DC(Stale state)\"), mdx(\"p\", null, \"\\uC704\\uC758 \\uC608\\uC2DC\\uC5D0\\uC11C\\uB294 setCount\\uC5D0 count + 1\\uC774\\uB77C\\uB294 \\uAC12\\uC744 \\uBC14\\uB85C \\uC804\\uB2EC\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC740 \\uB2E4\\uC74C \\uCF54\\uB4DC\\uC5D0\\uC11C \\uB73B\\uBC16\\uC758 \\uC624\\uB958\\uB97C \\uBC1C\\uC0DD\\uC2DC\\uD0B5\\uB2C8\\uB2E4. \\uCE74\\uC6B4\\uD130 \\uC608\\uC81C\\uB97C \\uC57D\\uAC04 \\uC751\\uC6A9\\uD55C \\uAC83\\uC73C\\uB85C, \\uBC84\\uD2BC\\uC744 \\uB20C\\uB800\\uC744 \\uB54C \\uC989\\uC2DC \\uC0C1\\uD0DC\\uB97C \\uBCC0\\uACBD\\uD558\\uC9C0 \\uC54A\\uACE0 3\\uCD08 \\uD6C4\\uC5D0 \\uBCC0\\uACBD\\uD569\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"const Counter = ({initialCount}) => {\\n    const [count, setCount] = useState(initialCount);\\n\\n    const increase = () => {\\n        setTimeout(function delay() {\\n            setCount(count + 1);\\n        }, 3000);\\n    }\\n\\n    return (\\n    <>\\n      Count: {count}\\n      <button onClick={increase}>+</button>\\n    </>\\n  );\\n}\\n\")), mdx(\"p\", null, \"\\uBC84\\uD2BC\\uC744 \\uC5F0\\uC18D\\uD574\\uC11C \\uB20C\\uB800\\uC744 \\uACBD\\uC6B0 count\\uB294 \\uC5B4\\uB5BB\\uAC8C \\uBCC0\\uD560\\uAE4C\\uC694? \\uC5F0\\uC18D\\uC73C\\uB85C \\uC5EC\\uB7EC\\uBC88\\uC744 \\uD074\\uB9AD\\uD574\\uB3C4 count\\uB294 0\\uC5D0\\uC11C 1\\uB85C \\uC99D\\uAC00\\uD560 \\uBFD0 \\uB354\\uB294 \\uC99D\\uAC00\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uB294 setTimeout\\uC73C\\uB85C \\uC778\\uD574 \\uD615\\uC131\\uB41C \\uD074\\uB85C\\uC800(closure)\\uAC00 \\uCD5C\\uC2E0 \\uC0C1\\uD0DC\\uAC00 \\uC544\\uB2CC \\uC624\\uB798\\uB41C \\uC0C1\\uD0DC\\uB97C \\uC0AC\\uC6A9\\uD558\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4. \\uC774\\uB97C \\uD574\\uACB0\\uD558\\uAE30 \\uC704\\uD574 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\uD568\\uC218\\uC801 \\uAC31\\uC2E0\"), \"\\uC744 \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"    const increase = () => {\\n        setTimeout(function delay() {\\n            setCount(count => count + 1);\\n        }, 3000);\\n    }\\n\")), mdx(\"p\", null, \"setCount(count => count + 1)\\uB85C \\uC778\\uD574 \\uC774\\uC81C \\uC815\\uC0C1\\uC801\\uC73C\\uB85C \\uCE74\\uC6B4\\uD2B8\\uAC00 \\uC99D\\uAC00\\uD569\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC740 \\uC774\\uC804 \\uC0C1\\uD0DC\\uB97C \\uC774\\uC6A9\\uD574 \\uD604\\uC7AC \\uC0C1\\uD0DC\\uB97C \\uBCC0\\uACBD\\uD569\\uB2C8\\uB2E4.\"), mdx(\"h2\", null, \"\\uC0C1\\uD0DC \\uCD08\\uAE30\\uD654 \\uC9C0\\uC5F0\"), mdx(\"p\", null, \"\\uC0C1\\uD0DC\\uAC00 \\uBCC0\\uACBD\\uB418\\uBA74 \\uB9AC\\uC561\\uD2B8\\uAC00 \\uC694\\uC18C\\uB97C \\uB2E4\\uC2DC \\uB80C\\uB354\\uB9C1\\uD55C\\uB2E4\\uACE0 \\uC544\\uAE4C \\uC124\\uBA85\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uADF8 \\uB80C\\uB354\\uB9C1\\uC744 \\uD558\\uB294 \\uACFC\\uC815\\uC5D0\\uC11C \\uD574\\uB2F9 \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uB0B4\\uBD80\\uC5D0 \\uC788\\uB294 \\uBAA8\\uB4E0 \\uB3D9\\uC791\\uC744 \\uB2E4\\uC2DC \\uC218\\uD589\\uD558\\uAC8C \\uB418\\uC8E0. \\uBB3C\\uB860 \\uADF8 \\uC791\\uC5C5\\uC5D0\\uB294 useState\\uB85C \\uCD08\\uAE30\\uD654\\uB418\\uB294 \\uC0C1\\uD0DC \\uAC12\\uB3C4 \\uD3EC\\uD568\\uB429\\uB2C8\\uB2E4.\"), mdx(\"p\", null, \"\\uB2E4\\uC74C \\uC608\\uC81C\\uB97C \\uBCF4\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"const MyComponent = ({bigData}) => {\\n    const initialState = veryExpensiveComputation(bigData);\\n    const [state, setState] = useState(initalState);\\n\\n    ... some code\\n}\\n\")), mdx(\"p\", null, \"\\uC0C1\\uD0DC \\uCD08\\uAE30 \\uAC12\\uC774 bigData\\uB97C \\uC774\\uC6A9\\uD55C \\uB9E4\\uC6B0 \\uBE44\\uC2FC \\uACC4\\uC0B0\\uC774\\uB77C\\uACE0 \\uAC00\\uC815\\uD569\\uB2C8\\uB2E4. \\uB2F9\\uC5F0\\uD788 \\uC774 \\uACC4\\uC0B0\\uC5D0 \\uB9CE\\uC740 \\uBE44\\uC6A9\\uC774 \\uC18C\\uBAA8\\uB420 \\uAC83\\uC774\\uACE0, \\uB2E4\\uC2DC \\uB80C\\uB354\\uB9C1\\uB420 \\uB54C\\uB9C8\\uB2E4 \\uADF8\\uAC83\\uC744 \\uC218\\uD589\\uD55C\\uB2E4\\uBA74 \\uB2F9\\uC5F0\\uD788 \\uBE44\\uD6A8\\uC728\\uC801\\uC774\\uBA70 \\uB610\\uD55C \\uB0AD\\uBE44\\uC77C \\uAC83\\uC785\\uB2C8\\uB2E4. \\uC774\\uB7F0 \\uACBD\\uC6B0 \\uB9AC\\uC561\\uD2B8\\uC5D0\\uC11C\\uB294 \\uC0C1\\uD0DC\\uB97C \\uC9C0\\uC5F0 \\uCD08\\uAE30\\uD654\\uD558\\uB294 \\uBC29\\uBC95\\uC744 \\uC598\\uAE30\\uD569\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC740 \\uC774\\uC804\\uC5D0 \\uC815\\uB9AC\\uD588\\uB358 \\uD568\\uC218\\uC801 \\uAC31\\uC2E0\\uACFC \\uC720\\uC0AC\\uD569\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"const MyComponent = ({bigData}) => {\\n    const [state, setState] = useState(() => veryExpensiveComputation(bigData));\\n\\n    ... some code\\n}\\n\")), mdx(\"p\", null, \"\\uC774\\uB7F0 \\uBC29\\uC2DD\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD558\\uB294 \\uC9C0\\uC5F0 \\uCD08\\uAE30\\uD654\\uB294 \\uC0C1\\uD0DC\\uAC00 \\uCD5C\\uCD08\\uB85C \\uC0DD\\uC131\\uB420 \\uB54C\\uB9CC \\uC2E4\\uD589\\uB418\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC774\\uD6C4 \\uBC1C\\uC0DD\\uD558\\uB294 \\uB9AC\\uB80C\\uB354\\uB9C1\\uC73C\\uB85C \\uC778\\uD574 \\uB2E4\\uC2DC \\uC2E4\\uD589\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC73C\\uB85C \\uBD88\\uD544\\uC694\\uD55C \\uBE44\\uC6A9 \\uC9C0\\uCD9C\\uC744 \\uC5C6\\uC568 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"h2\", null, \"\\uACB0\\uB860\"), mdx(\"p\", null, \"useState\\uB294 \\uCD08\\uAE30\\uAC12\\uACFC \\uC5C5\\uB370\\uC774\\uD2B8 \\uD568\\uC218 \\uB450 \\uAC1C\\uB97C \\uBC18\\uD658\\uD558\\uB294 \\uD6C5\\uC785\\uB2C8\\uB2E4. \\uAC04\\uB2E8\\uD55C \\uC0C1\\uD0DC\\uB77C\\uBA74 \\uBCC4\\uB2E4\\uB978 \\uC8FC\\uC758\\uAC00 \\uD544\\uC694\\uC5C6\\uC744\\uC9C0 \\uBAB0\\uB77C\\uB3C4 \\uC704\\uC5D0\\uC11C \\uC815\\uB9AC\\uD55C \\uAC83\\uCC98\\uB7FC \\uBAA8\\uB974\\uACE0 \\uC0AC\\uC6A9\\uD558\\uBA74 \\uC608\\uAE30\\uCE58 \\uBABB\\uD55C \\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"p\", null, \"\\uC0C1\\uD0DC\\uB97C \\uBCC0\\uACBD\\uD560 \\uB54C \\uC774\\uC804 \\uAC12\\uC774 \\uD544\\uC694\\uAC00 \\uC5C6\\uB2E4\\uBA74 setState(newState)\\uC640 \\uAC19\\uC740 \\uBC29\\uC2DD\\uC744, \\uC774\\uC804 \\uC0C1\\uD0DC\\uB97C \\uAE30\\uBC18\\uC73C\\uB85C \\uD55C\\uB2E4\\uBA74 \\uD568\\uC218\\uC801 \\uAC31\\uC2E0 setState(preState => newState)\\uC744 \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4.\"), mdx(\"p\", null, \"\\uC5EC\\uB7EC \\uC0C1\\uD0DC\\uAC00 \\uD544\\uC694\\uD558\\uB2E4\\uBA74 \\uAC01\\uAC01\\uC758 \\uC0C1\\uD0DC\\uB9C8\\uB2E4 useState\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218\\uB3C4 \\uC788\\uC744 \\uAC83\\uC774\\uBA70, \\uADF8\\uAC83\\uC744 \\uAD6C\\uC870\\uD654\\uD558\\uC5EC useState\\uC758 \\uC0AC\\uC6A9 \\uD69F\\uC218\\uB97C \\uC904\\uC77C \\uC218\\uB3C4 \\uC788\\uC744 \\uAC83\\uC785\\uB2C8\\uB2E4. \\uB2E4\\uB9CC \\uADF8\\uAC83\\uC744 \\uAD6C\\uC870\\uD654\\uD558\\uACE0 \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uC5D0 \\uC788\\uC5B4\\uC11C, \\uB610\\uD55C \\uAC31\\uC2E0\\uD558\\uB294 \\uACFC\\uC815\\uC774 \\uB108\\uBB34 \\uBCF5\\uC7A1\\uD574\\uC9C8 \\uACBD\\uC6B0 useState\\uBCF4\\uB2E4\\uB294 useReducer\\uB77C\\uB294 \\uD6C5\\uC774 \\uB354 \\uC720\\uC6A9\\uD560 \\uAC83\\uC785\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uCD08\\uAE30 \\uC0C1\\uD0DC\\uAC12\\uC758 \\uBE44\\uC6A9\\uC5D0 \\uB530\\uB77C \\uC9C0\\uC5F0 \\uCD08\\uAE30\\uD654\\uB97C \\uC801\\uC808\\uD788 \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uB3C4 \\uC78A\\uC544\\uC57C \\uD569\\uB2C8\\uB2E4.\"), mdx(\"p\", null, \"\\uC774\\uBC16\\uC5D0\\uB3C4 \\uD6C5\\uC758 \\uAE30\\uBCF8\\uC801\\uC778 \\uADDC\\uCE59\\uB3C4 \\uC720\\uC758\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\uCD5C\\uC0C1\\uC704 \\uB808\\uBCA8\\uC5D0\\uC11C \\uD638\\uCD9C\\uD560 \\uAC83\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"React \\uD568\\uC218 \\uB0B4\\uC5D0\\uC11C\\uB9CC \\uD6C5\\uC744 \\uD638\\uCD9C\\uD560 \\uAC83\")), mdx(\"h2\", null, \"\\uD559\\uC2B5 \\uBC0F \\uC608\\uC81C \\uCD9C\\uCC98\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://ko.reactjs.org/docs/hooks-reference.html#usestate\"\n  }, \"React \\uBB38\\uC11C\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://dmitripavlutin.com/react-usestate-hook-guide/#14-updating-state\"\n  }, \"The Wise Guide to React useState() Hook\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"description":"리액트(React) 훅(Hook), useState는 무엇이고 어떻게 사용하는 것인지. 또 주의할 점은 무엇이 있는지 정리해봤습니다.","title":"리액트 훅(React Hook) - useState","date":"2022년 01월 18일","tag":["React"]},"internal":{"content":"---\r\ndescription: \"리액트(React) 훅(Hook), useState는 무엇이고 어떻게 사용하는 것인지. 또 주의할 점은 무엇이 있는지 정리해봤습니다.\"\r\ntitle: \"리액트 훅(React Hook) - useState\"\r\ntag: [\"React\"]\r\ndate: \"2022-01-18\"\r\nsummary: \"리액트 훅(React Hook) 중 useState를 정리해봤습니다.\"\r\n---\r\n\r\n## useState를 이용한 상태 관리\r\n\r\nuseState는 함수 컴포넌트에서 상태 변수를 가질 수 있게 하는 훅입니다. 이 훅은 초기 상태를 전달하면 배열을 반환합니다. 이 배열의 첫 번째 인덱스(0)에는 전달된 초기 상태 값이, 두 번째 인덱스(1)에는 상태를 갱신하는 함수가 들어있는데, 보통 비구조화 할당으로 두 개를 나누어 받습니다.\r\n\r\n```\r\nconst Counter = ({initialCount}) => {\r\n    /*\r\n    const stateArray = useState(initialCount);\r\n    const count = stateArray[0];\r\n    const setCount = stateArray[1];\r\n    */\r\n\r\n    const [count, setCount] = useState(initialCount);\r\n\r\n    ... some code\r\n}\r\n```\r\n\r\nCount를 여러 요소나 함수에서 활용할 수 있으며 Count를 갱신하는 setCount 함수를 이용해 그 값을 갱신할 수 있습니다.\r\n\r\n```\r\nconst Counter = ({initialCount}) => {\r\n    const [count, setCount] = useState(initialCount);\r\n\r\n    return (\r\n    <>\r\n      Count: {count}\r\n      <button onClick={() => setCount(count + 1)}>+</button>\r\n    </>\r\n  );\r\n}\r\n```\r\n\r\n여기서 플러스 버튼을 클릭하면 상태가 변하고 리액트는 상태가 변경되자마자 구성 요소를 다시 렌더링합니다.\r\n\r\n## 함수적 갱신과 부실 상태(Stale state)\r\n\r\n위의 예시에서는 setCount에 count + 1이라는 값을 바로 전달했습니다. 이것은 다음 코드에서 뜻밖의 오류를 발생시킵니다. 카운터 예제를 약간 응용한 것으로, 버튼을 눌렀을 때 즉시 상태를 변경하지 않고 3초 후에 변경합니다.\r\n\r\n```\r\nconst Counter = ({initialCount}) => {\r\n    const [count, setCount] = useState(initialCount);\r\n\r\n    const increase = () => {\r\n        setTimeout(function delay() {\r\n            setCount(count + 1);\r\n        }, 3000);\r\n    }\r\n\r\n    return (\r\n    <>\r\n      Count: {count}\r\n      <button onClick={increase}>+</button>\r\n    </>\r\n  );\r\n}\r\n```\r\n\r\n버튼을 연속해서 눌렀을 경우 count는 어떻게 변할까요? 연속으로 여러번을 클릭해도 count는 0에서 1로 증가할 뿐 더는 증가하지 않습니다. 이는 setTimeout으로 인해 형성된 클로저(closure)가 최신 상태가 아닌 오래된 상태를 사용하기 때문입니다. 이를 해결하기 위해 **함수적 갱신**을 사용합니다.\r\n\r\n```\r\n    const increase = () => {\r\n        setTimeout(function delay() {\r\n            setCount(count => count + 1);\r\n        }, 3000);\r\n    }\r\n```\r\n\r\nsetCount(count => count + 1)로 인해 이제 정상적으로 카운트가 증가합니다. 이것은 이전 상태를 이용해 현재 상태를 변경합니다.\r\n\r\n## 상태 초기화 지연\r\n\r\n상태가 변경되면 리액트가 요소를 다시 렌더링한다고 아까 설명했습니다. 그 렌더링을 하는 과정에서 해당 컴포넌트 내부에 있는 모든 동작을 다시 수행하게 되죠. 물론 그 작업에는 useState로 초기화되는 상태 값도 포함됩니다.\r\n\r\n다음 예제를 보겠습니다.\r\n\r\n```\r\nconst MyComponent = ({bigData}) => {\r\n    const initialState = veryExpensiveComputation(bigData);\r\n    const [state, setState] = useState(initalState);\r\n\r\n    ... some code\r\n}\r\n```\r\n\r\n상태 초기 값이 bigData를 이용한 매우 비싼 계산이라고 가정합니다. 당연히 이 계산에 많은 비용이 소모될 것이고, 다시 렌더링될 때마다 그것을 수행한다면 당연히 비효율적이며 또한 낭비일 것입니다. 이런 경우 리액트에서는 상태를 지연 초기화하는 방법을 얘기합니다. 이것은 이전에 정리했던 함수적 갱신과 유사합니다.\r\n\r\n```\r\nconst MyComponent = ({bigData}) => {\r\n    const [state, setState] = useState(() => veryExpensiveComputation(bigData));\r\n\r\n    ... some code\r\n}\r\n```\r\n\r\n이런 방식으로 사용하는 지연 초기화는 상태가 최초로 생성될 때만 실행되기 때문에 이후 발생하는 리렌더링으로 인해 다시 실행되지 않습니다. 이것으로 불필요한 비용 지출을 없앨 수 있습니다.\r\n\r\n## 결론\r\n\r\nuseState는 초기값과 업데이트 함수 두 개를 반환하는 훅입니다. 간단한 상태라면 별다른 주의가 필요없을지 몰라도 위에서 정리한 것처럼 모르고 사용하면 예기치 못한 에러가 발생할 수 있습니다.\r\n\r\n상태를 변경할 때 이전 값이 필요가 없다면 setState(newState)와 같은 방식을, 이전 상태를 기반으로 한다면 함수적 갱신 setState(preState => newState)을 사용합니다.\r\n\r\n여러 상태가 필요하다면 각각의 상태마다 useState를 사용할 수도 있을 것이며, 그것을 구조화하여 useState의 사용 횟수를 줄일 수도 있을 것입니다. 다만 그것을 구조화하고 사용하는 것에 있어서, 또한 갱신하는 과정이 너무 복잡해질 경우 useState보다는 useReducer라는 훅이 더 유용할 것입니다. 그리고 초기 상태값의 비용에 따라 지연 초기화를 적절히 사용하는 것도 잊아야 합니다.\r\n\r\n이밖에도 훅의 기본적인 규칙도 유의해야 합니다.\r\n\r\n1. 최상위 레벨에서 호출할 것\r\n2. React 함수 내에서만 훅을 호출할 것\r\n\r\n## 학습 및 예제 출처\r\n\r\n[React 문서](https://ko.reactjs.org/docs/hooks-reference.html#usestate)\r\n\r\n[The Wise Guide to React useState() Hook](https://dmitripavlutin.com/react-usestate-hook-guide/#14-updating-state)\r\n"}}},"pageContext":{"id":"f86f43c9-67a9-5fca-bfc3-1fc86c6bd5dd","slug":"react-hook-use-state","__params":{"slug":"react-hook-use-state"}}},
    "staticQueryHashes": ["1728580487","2841612589","3494247862"]}